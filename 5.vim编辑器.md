## vim编辑器

### 安装vim

```bash
yum -y install vim*
```

### 配置

`vim /etc/vimrc`

添加如下部分：

```bash
 set nu          " 设置显示行号
 set showmode    " 设置在命令行界面最下面显示当前模式等
 set ruler       " 在右下角显示光标所在的行数等信息
 set autoindent  " 设置每次单击Enter键后，光标移动到下一行时与上一行的起始字符对齐
 syntax on       " 即设置语法检测，当编辑C或者Shell脚本时，关键字会用特殊颜色显示
```

## vi

```bash
vi +n file.txt # 打开文件并将光标置于 第n行行首
```

#### 三种模式

##### 插入模式

##### 编辑模式

- u 撤销前面多次修改，ctrl+r 反撤销
- [n]x 删除光标后n个字符。比如 3x
- [n]X 删除光标前n个字符。比如 6X
- [n]dd 剪切从当前行开始的n行。如 4dd
- [n]yy 复制 从当前行开始的n行，如 4yy
- p 把粘贴板上的内容插入到当前行
- `.` 代表执行上一次操作
- shift+zz（按住shift按两下z）  保存退出当前文件

其他：

- [n]G  将光标定位到第n行开始处，如 5G
- G  光标定位到文件结束处
- gg 光标定位到文件开始处

查找：

- /字符串       从光标开始处向文件尾查找字符串
- n   同一方向重复上一次查找命令
- N   ：反方向重复上一次查找命令

##### 命令模式

- :w	保存文件
- :wq   保存文件并退出vi
- :x    保存文件并退出vi
- :q!    不保存文件，强制退出
- :w filename  另存为filename



##### 模式之间的切换

- 编辑模式进入插入模式，按 a i o，区别是插入位置不同
- 插入模式进入编辑模式，按 ESC键
- 只能由编辑模式才能进命令模式
  - 在编辑模式下按**冒号:**，进入命令模式
- 由命令模式进去编辑模式，按ESC键